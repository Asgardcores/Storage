/* --- core colors/typography trimmed for brevity --- */
:root{
  --steel:#3a6ea5;
  --bg:#f4f6f8;
  --card:#ffffff;
  --text:#0b1620;
  --ok:#1f8f2e;
  --vacant:#ffffff;
  --overlocked:#b71c1c;
  --issue:#f39c12;
  --shadow:0 2px 8px rgba(0,0,0,.12);
}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--text)}
.app{max-width:900px;margin:0 auto;display:flex;flex-direction:column;min-height:100vh}
header{position:sticky;top:0;background:var(--card);box-shadow:var(--shadow);z-index:10}
header .row{display:flex;gap:.5rem;align-items:center;padding:.5rem .75rem;flex-wrap:wrap}
header .row > *{flex:1}
h1{font-size:1rem;margin:0;color:var(--steel)}
.btn{display:inline-flex;justify-content:center;align-items:center;border:1px solid transparent;border-radius:.75rem;padding:.7rem 1rem;background:var(--steel);color:#fff;font-weight:600;box-shadow:var(--shadow);cursor:pointer}
.btn.secondary{background:#e9f0f8;color:var(--steel)}
.btn.ghost{background:transparent;color:var(--steel);box-shadow:none;border:2px solid var(--steel)}
.toolbar{display:flex;gap:.5rem}
input[type="date"]{width:100%;padding:.65rem;border-radius:.6rem;border:1px solid #c9d6e6;background:#fff;color:var(--text)}
main{flex:1;display:flex;flex-direction:column;gap:.75rem;padding:.75rem}

/* Carousel */
.carousel-wrap{position:sticky;top:58px;background:var(--bg);padding:.4rem 0 .35rem;z-index:5}
.carousel{display:flex;gap:.5rem;overflow-x:auto;overflow-y:hidden;padding:.35rem .5rem;scroll-snap-type:x mandatory}
.carousel::-webkit-scrollbar{display:none}
.unit-pill{position:relative;flex:0 0 auto;min-width:52px;aspect-ratio:1/1;border-radius:.6rem;background:#e8eef6;display:flex;align-items:center;justify-content:center;font-weight:700;color:#244a72;border:2px solid transparent}
.unit-pill.active{border-color:#2b66a0;box-shadow:0 0 0 3px rgba(58,110,165,.15)}
.unit-pill .badge{position:absolute;font-size:.75rem}
.unit-pill .badge.dot{top:.2rem;left:.25rem;width:.5rem;height:.5rem;border-radius:999px;background:#2b66a0}
.unit-pill .badge.multi{top:.2rem;right:.25rem}
.unit-pill .badge.note{bottom:.2rem;left:.25rem}

.panels{display:grid;grid-template-columns:1fr;gap:.75rem}
@media(min-width:720px){.panels{grid-template-columns:1.2fr .8fr}}
.card{background:var(--card);border-radius:1rem;box-shadow:var(--shadow);padding:1rem;position:relative}
.section-title{font-weight:800;color:#2b66a0;margin:0 0 .75rem}

.status-grid{display:grid;grid-template-columns:1fr 1fr;gap:.6rem}
.status-btn{border-radius:.9rem;padding:1rem;font-weight:800;text-align:center;background:var(--steel);color:#fff;border:1px solid transparent;cursor:pointer}
.status-btn[data-active="true"]{background:#e5ecf5;color:#b71c1c;border-color:#b9c8db}

.status-legend{display:flex;gap:.5rem;flex-wrap:wrap;font-size:.85rem;color:#33597f}
.legend-pill{display:inline-flex;align-items:center;gap:.4rem;padding:.3rem .55rem;border-radius:.7rem;background:#eef4fb}
.swatch{width:.9rem;height:.9rem;border-radius:.2rem;border:1px solid #9db2c8}

textarea, input[type="text"], input[type="tel"]{width:100%;padding:.7rem;border:1px solid #c9d6e6;border-radius:.6rem;background:#fff}
textarea{min-height:88px;resize:vertical}
.contact-info{display:grid;gap:.5rem}
.contact-row{display:grid;grid-template-columns:1fr 1fr;gap:.5rem}

/* Report */
.report{display:none}
.report[active]{display:block}
table{width:100%;border-collapse:collapse;background:#fff;border-radius:.8rem;overflow:hidden}
th,td{padding:.6rem;border-bottom:1px solid #e4ecf6;text-align:left;vertical-align:top}
thead th{background:#eef4fb;color:#234a73}
.muted{color:#6c86a3}
.lastmod{font-size:.85rem;color:#33597f}

/* Overlocked filter chip */
.filter-chip{position:absolute;top:1rem;right:1rem;font-size:.8rem;padding:.35rem .6rem}
.filter-chip[data-on="true"]{background:var(--steel);color:#fff;border-color:var(--steel)}

/* ===== Ranges Drawer (fixed: bigger, scrollable, closable) ===== */
.drawer{position:fixed;inset:0;display:none;z-index:1000}
.drawer[open]{display:block}
.drawer .shade{position:absolute;inset:0;background:rgba(0,0,0,.45);cursor:pointer}
.drawer .panel{
  position:absolute;
  left:50%; transform:translateX(-50%);
  bottom:0;
  width:min(820px, 96vw);
  max-height:min(88vh, 720px);
  background:var(--card);
  border-radius:1rem 1rem 0 0;
  box-shadow:0 -4px 24px rgba(0,0,0,.25);
  padding:1rem 1rem 1.25rem;
  overflow:auto;
}
.drawer .drawer-head{
  display:flex;align-items:center;justify-content:space-between;gap:1rem;margin-bottom:.5rem
}
.drawer .drawer-actions{
  margin-top:.75rem;display:flex;gap:.5rem;flex-wrap:wrap
}
.range-list{display:grid;gap:.5rem}
.range-item{display:grid;grid-template-columns:1fr 1fr auto auto auto;gap:.4rem;align-items:center}
.range-item input{padding:.55rem}
.icon-btn{border:none;background:#edf3fa;border-radius:.6rem;padding:.45rem .55rem;font-weight:800;color:#244a72}
